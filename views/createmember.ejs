
<!DOCTYPE HTML>
<head>
	<title>Create Member</title>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
	<link href="/css/style.css" rel="stylesheet" type="text/css" media="all"/>
	<link href="/css/slider.css" rel="stylesheet" type="text/css" media="all"/>
	<link href="/css/form_style.css" rel="stylesheet" type="text/css" media="all"/>
	<link href="/css/styleLogin.css" rel="stylesheet" type="text/css" />
	<script type="text/javascript" src="/js/jquery-1.9.0.min.js"></script> 
	<script type="text/javascript" src="/js/move-top.js"></script>
	<script type="text/javascript" src="/js/easing.js"></script>
	<script type="text/javascript" src="/js/jquery.nivo.slider.js"></script>
	<script type="text/javascript" src="/js/jquery.lightbox_me.js"></script>

</head>
<body>
	<div class="header">
		<div class="headertop_desc">
			<div class="wrap">
				<div class="nav_list">
					<ul>
						<li style="float:left;"><a href="/">Home</a></li>
						<li><a href="/createmember?nocache=1">Create Member    </a></li>
						<li><a href="/listmember?nocache=1">List Members   </a></li>
						<li><a href="/createmovie?nocache=1">Create Video   </a></li>
						<li><a href="/listmovie?nocache=1">List Videos   </a></li>	
						<li><a id="issueMovieLinkId">Issue Videos   </a></li>
						<li><a id="submitMovieLinkId">Return Videos  </a></li>
						<li><a href="/generatebill?nocache=1">Generate Bill  </a></li>
						<li style="float:right"><a href="/sign-out?nocache=1">Logout</a></li>
					</ul>
				</div>
				<div class="clear"></div>

			</div>
		</div>
		<div class="wrap">

			<script type="text/javascript">
			
			$(document).ready(function(){
				$(".role").click(function(){
					if($(this).val() == 1) {
						$("#memberType").attr("hidden","");
					} else {
						$("#memberType").removeAttr("hidden");
					}
				});


			});

			$('#issueMovieLinkId').click(function(e) {
				$('#issueMoviePopup').lightbox_me({
					centered: true,preventScroll: true
				});
				e.preventDefault();
			});

			$('#submitMovieLinkId').click(function(e) {
				$('#submitMoviePopup').lightbox_me({
					centered: true,preventScroll: true
				});
				e.preventDefault();
			});



			function allnumeric(inputtxt)  
			{  
				
				var numbers = /^[0-9]+$/;  
				if(inputtxt.match(numbers))  
				{  
					return true;  
				}  
				else  
				{
					return false;  
				}  
			}
			
			


			function validateIssueMovie()   
			{
				if(document.issuemovie.membershipNo.value ==null ||document.issuemovie.membershipNo.value == ''){
					alert('Membership No. cannot be blank');
					return false;
				} 
				else if(!allnumeric(document.issuemovie.membershipNo.value))
				{
					alert("Membership No. should be numeric");
					return false;
				}
				else if(document.issuemovie.membershipNo.value.length != 9 ) 
				{
					alert("Membership No. should be 9 Digits.");
					return false;
				}
				else
				{
					
					return true;
				}
			}
			
			function validateReturnMovie()   
			{
				if(document.returnmovie.membershipNo.value ==null ||document.returnmovie.membershipNo.value == ''){
					alert('Membership No. cannot be blank');
					return false;
				} 
				else if(!allnumeric(document.returnmovie.membershipNo.value))
				{
					alert("Membership No. should be numeric");
					return false;
				}
				else if(document.returnmovie.membershipNo.value.length != 9 ) 
				{
					alert("Membership No. should be 9 Digits.");
					return false;
				}
				else
				{

					return true;
				}
			}

			function validateEmail(mail)   
			{  
				if (/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/.test(mail))  
				{  
					return (true);
				}  
				return (false);
			}  


			function validateCreateMember()   
			{
				if(document.createmember.roleId.value==null ||document.createmember.roleId.value == ''){
					alert('Role cannot be blank');
					return false;
				} 
				if((document.createmember.roleId.value!=null || document.createmember.roleId.value != '') && document.createmember.roleId.value == 2) {
					if(document.createmember.memberTypeId.value==null ||document.createmember.memberTypeId.value == ''){
						alert('Member Type cannot be blank');
						return false;
					} 
				}
				if(document.createmember.fname.value==null ||document.createmember.fname.value == ''){
					alert('Member First Name cannot be blank');
					return false;
				} 
				if(document.createmember.lname.value==null ||document.createmember.lname.value == ''){
					alert('Member Last Name cannot be blank');
					return false;
				}
				if(document.createmember.email.value==null ||document.createmember.email.value == ''){
					alert('Email Address cannot be blank');
					return false;
				} else if(!validateEmail(document.createmember.email.value)){
					alert('Enter valid Email address of the member');
					return false;
				}

				if(document.createmember.areacode.value==null ||document.createmember.areacode.value == ''){
					alert('Please enter Area Code');
					return false;
				}else if(!allnumeric(document.createmember.areacode.value) || document.createmember.areacode.value.length != 3){
					alert('Enter valid Phone Number for the entered Record. Phone Number should be numeric in the following format XXX-XXX-XXXX');
					return false;
				}
				
				if(document.createmember.citycode.value != '' && (!allnumeric(document.createmember.citycode.value) || document.createmember.citycode.value.length!=3)){
					alert('Enter valid city Code for the entered Record. Phone number should be numeric in the following format XXX-XXX-XXXX');
					return false;
				}


				if(document.createmember.phonenum.value != '' && (!allnumeric(document.createmember.phonenum.value) || document.createmember.phonenum.value.length!=4)){
					alert('Enter valid phone number for the entered Record. Phone number should be numeric in the following format XXX-XXX-XXXX');
					return false;
				}

				if(document.createmember.address.value==null ||document.createmember.address.value == ''){
					alert('Address Line 1 cannot be blank');
					return false;
				}
				if(document.createmember.city.value==null ||document.createmember.city.value == ''){
					alert('City value cannot be blank');
					return false;
				}
				if(document.createmember.stateId.value==null ||document.createmember.stateId.value == ''){
					alert('State value cannot be blank');
					return false;
				}

				if(document.createmember.zip1.value==null ||document.createmember.zip1.value == ''){
					alert('Please enter Zip Code');
					return false;
				}else if(!allnumeric(document.createmember.zip1.value) || document.createmember.zip1.value.length != 5){
					alert('Enter valid Zip Code for the entered Record. Zip code should be numeric in the following format XXXXX OR XXXXX-XXXX');
					return false;
				}
				
				if(document.createmember.zip2.value != '' && (!allnumeric(document.createmember.zip2.value) || document.createmember.zip2.value.length!=4)){
					alert('Enter valid Zip Code extension for the entered Record. Zip code should be numeric in the following format XXXXX OR XXXXX-XXXX');
					return false;
				}
			}
			
			
			function DropDown(el) {
				this.dd = el;
				this.initEvents();
			}
			DropDown.prototype = {
				initEvents : function() {
					var obj = this;

					obj.dd.on('click', function(event){
						$(this).toggleClass('active');
						event.stopPropagation();
					});	
				}
			}

			$(function() {

				var dd = new DropDown( $('#dd') );

				$(document).click(function() {
											// all dropdowns
											$('.wrapper-dropdown-2').removeClass('active');
										});

			});
			</script>    
			<a href="/"><img style="margin: 10px 10px 0px 20px;"src="images/logo.png" alt="" /></a>
			<div class="header_bottom">
				<div class="header_bottom_left">							
				</div>	
			</div>

		</div>
	</div>

	<!------------End Header ------------>
	<!------------Popoups ------------>
	<div id="issueMoviePopup" style="display:none;background:grey">

		<h1 align="center" style="font-size:25px;font-weight:bold">Issue Videos </h1>
		<form style="margin-top: 13px;" action="/issuemovie-submit" method="Post" name ="issuemovie" onsubmit="return validateIssueMovie()">
			<div class="fieldBlock">
				<input id="membershipNoIM" class="singleTextBox" placeholder="Membership No." maxlength="75" name="membershipNo" type="text"/>
			</div>
			<br/>
			<div class="fieldBlock" align="center">
				<input name="Submit" class="submitButtonClass" type="submit" value="Next>>" />
			</div>			
		</form>
	</div>

	<div id="submitMoviePopup" style="display:none;background:grey">
		<h1 align="center" style="font-size:25px;font-weight:bold">Return Videos </h1>
		<form style="margin-top: 13px;" action="/submitmovie-submit" method="POST" name="returnmovie" onsubmit="return validateReturnMovie()">
			<div class="fieldBlock">
				<input id="membershipNoSM" class="singleTextBox" placeholder="Membership No." maxlength="75" name="membershipNo" type="text"/>
			</div>
		</br>
		<div class="fieldBlock" align="center">
			<input name="Submit" class="submitButtonClass" type="submit" value="Next>>" />
		</div>			
	</form>
</div>

<!------------End Popups ------------>
<div class="main">
	<div class="wrap">
		<div class="content">	
			<div class="content_top">
				<div class="heading">

					<div class="header_bottom_center">

						<div class="clear"></div>
					</div>
							
					<h3 style="display:inline">Create Member</h3>
					<h3 style="display:inline;float:right">Welcome <%= userDet.firstname %>!!!</h3>
				</div>
			</div>
			<div class="section group">

				<div class="container">
					<header>
						<h1 align="center">Create a New Member </h1>
					</header>
					<div class="fieldBlock" align="center">
						<% if(insertedresults != null) {%>
						<div class="singleTextBox" style="font-weight:bold;font-size:20px">
							<%= insertedresults %>
							</div>
							<% } %>
					</div>
					<form name="createmember" onsubmit="return validateCreateMember()" action="/createmember-submit" method="post">
						<div class="fieldBlock">
							<div class="doubleTextBox" align="center">
								<div style="padding:0.5cm 0.5cm 0.5cm 0.5cm;">
									<% for(var i in roles) { %>
									<input type="radio" class="role" name="roleId" value="<%=roles[i].id %>"><%=roles[i].name%>
									<% } %>
								</div>
							</div>

							<div id="memberType" class="doubleTextBox" align="center" hidden>
								<div style="padding:0.5cm 0.5cm 0.5cm 0.5cm;">
									<% for(var i in memberTypes) { %>
									<input type="radio" name="memberTypeId" value="<%=memberTypes[i].id %>"><%=memberTypes[i].name%>
									<% } %>
								</div>
							</div>
						</div>
						<div class="fieldBlock">
							<input id="fname" name="firstname" class="doubleTextBox" placeholder="First Name" type="text"></input>
							<input id="lname" name="lastname" class="doubleTextBox" placeholder="Last Name" type="text"></input>
						</div>

						<div class="fieldBlock">
							<input class="singleTextBox" id="email" maxlength="75" name="email" placeholder="E-mail Address" type="text"></input>
						</div>

						<div class="fieldBlock">
							<input name="citycode" class="tripleTextBox" placeholder="City Code" type="text"></input>
							<input name="areacode" class="tripleTextBox" placeholder="Area Code" type="text"></input>
							<input name="phonenum" class="tripleTextBox" style="width:143px" placeholder="Phone Number" type="text"></input>
						</div>

						<div class="fieldBlock">
							<input class="singleTextBox" id="address" name="address" maxlength="50" placeholder="Address Line 1" type="text"></input>
						</div>

						<div class="fieldBlock">
							<input class="singleTextBox" id="address2" name="address2" maxlength="50" placeholder="Address Line 2" type="text"></input>
						</div>

						<div class="fieldBlock">
							<input class="doubleTextBox" id="city" maxlength="50" name="city" placeholder="City" type="text"></input>
							<select id="stateId" name="stateId" style="width:300px;"class="doubleTextBox">
								<option value="">State</option>
								<% for(var i in states) { %>
								<option value="<%=states[i].id %>"><%=states[i].name %></option>
								<% } %>
							</select>
						</div>

						<div class="fieldBlock">
							<input id="zip1" maxlength="5" name="zip1" class="doubleTextBox" placeholder="Zip Code" type="text"></input>
							<input id="zip2" class="doubleTextBox" maxlength="4" name="zip2" placeholder="Zip Extn" type="text"></input>
						</div>

						<div class="fieldBlock">
							<input class="singleTextBox" placeholder="Password" id="password" maxlength="45" name="password" type="password" />
						</div>
						<br/>
						<div class="fieldBlock" align="center">
							<input name="Submit" class="submitButtonClass singleTextBox" type="submit" value="Register" />
						</div>
					</form>

				</div>
			</div>
		</div>
	</div>
</div>

<script type="text/javascript">
$(document).ready(function() {			
	$().UItoTop({ easingType: 'easeOutQuart' });

});
</script>
<a href="#" id="toTop"><span id="`"> </span></a>
</body>
</html>

